{
  "mcpServers": {
    "firebase": {
      "command": "npx",
      "args": [
        "-y",
        "firebase-tools@latest",
        "mcp",
        "--dir",
        "/Users/turing/my-project",
        "--only",
        "auth,firestore,storage"
      ]
    }
  },
  "hooks": {
    "AfterAgent": [
      {
        "matcher": "write_file|replace",
        "hooks": [
          {
            "type": "command",
            "command": "npx tsc --noEmit 2>&1 || { echo 'TypeScript errors found' >&2; exit 2; }"
          },
          {
            "type": "command",
            "command": "npx eslint . --ext .ts,.tsx 2>&1 || { echo 'ESLint errors found' >&2; exit 2; }"
          },
          {
            "type": "command",
            "command": "npx prettier --write ."
          }
        ]
      }
    ],
    "BeforeTool": [
      {
        "matcher": "write_file|replace",
        "hooks": [
          {
            "name": "secret-scanner",
            "type": "command",
            "command": "$GEMINI_PROJECT_DIR/.gemini/hooks/block-secrets.sh",
            "description": "Prevent committing secrets"
          }
        ]
      }
    ]
  },
  "tools": {
    "allowed": [
      "run_shell_command(ls)",
      "run_shell_command(find)",
      "run_shell_command(grep)",
      "run_shell_command(pwd)",
      "run_shell_command(cd)",
      "run_shell_command(cat)",
      "run_shell_command(echo)",
      "run_shell_command(npm run lint)",
      "run_shell_command(npm run type-check)",
      "run_shell_command(npm run build)",
      "run_shell_command(git status)",
      "run_shell_command(git diff)"
    ]
  }
}
