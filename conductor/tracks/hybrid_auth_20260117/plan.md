# 計画書: ハイブリッド認証機能の実装

## フェーズ 1: Google認証の実装
- [x] タスク: Google Auth Provider の設定 71f2698
  - `firebase/auth` の `GoogleAuthProvider` を設定。
- [x] タスク: ログイン処理の実装 38601e1
  - `signInWithPopup` を使用した通常のログイン処理。
  - `linkWithPopup` を使用したアカウントリンク処理。

## フェーズ 2: UI実装 [checkpoint: c9526e7]
- [x] タスク: マイページ (`/profile/page.tsx`) の作成 f3d4bcb
  - 現在のログイン状態を表示。
  - 「Googleアカウントと連携する」ボタンの配置。
  - ログアウトボタンの配置。
- [x] タスク: ヘッダーの更新 f772418
  - ログイン済みユーザーの場合、アイコンや名前を適切に表示。

## フェーズ 3: アカウント連携ロジック
- [x] タスク: 連携処理のハンドリング 2f504e9
  - 匿名ユーザーからのアップグレード処理の実装。
  - エラーハンドリング（既に使われているメールアドレスの場合など）。

## フェーズ 4: 動作確認
- [x] タスク: 手動テスト 4511761
  - ゲストとして開始 → Google連携 → データ維持の確認。
  - ログアウト → 再ログインの確認。
- [x] タスク: Conductor - 手動確認 "ハイブリッド認証" (詳細は workflow.md 参照)
