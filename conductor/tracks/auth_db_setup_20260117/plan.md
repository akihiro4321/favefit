# 計画書: 認証基盤 & データベース設計

## フェーズ 1: Firebase セットアップ
- [x] タスク: Firebase SDK のインストールと初期化
  - `firebase` ライブラリの追加。
  - クライアントサイドでの Firebase 初期化設定。
- [x] タスク: 環境変数の設定
  - `.env.local` に Firebase Config を設定。

## フェーズ 2: 認証機能の実装
- [x] タスク: 匿名認証フローの実装
  - アプリ起動時、または「開始」時に自動で `signInAnonymously()` を実行。
- [x] タスク: Auth Context / Provider の作成
  - アプリ全体でユーザーID (`uid`) を参照できる仕組み。
- [x] タスク: ゲストユーザー状態の管理
  - 匿名ユーザーであることを示し、必要最小限のUIで開始できるようにする。

## フェーズ 3: データ永続化
- [x] タスク: Firestore スキーマの初期実装
  - ログイン時に `users` コレクションへ初期ドキュメントを作成。
- [x] タスク: オンボーディング状態の管理
  - ユーザーが目標設定済みかどうかを判定するフラグの導入。

## フェーズ 4: 統合確認
- [ ] タスク: コンポーネントへの適用
  - ヘッダー等にユーザー名やアバターを表示。
- [x] タスク: Conductor - 手動確認 "認証 & DB 連携" (詳細は workflow.md 参照)
